(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a274b420"],{7732:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"listQueryRef",attrs:{model:t.listQuery,inline:!0,"label-width":"68px"}},[i("el-form-item",{attrs:{label:"ID",prop:"id"}},[i("el-input",{attrs:{placeholder:"请输入ID",clearable:""},model:{value:t.listQuery.id,callback:function(e){t.$set(t.listQuery,"id",e)},expression:"listQuery.id"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{placeholder:"请输入标题",clearable:""},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}})],1),t._v(" "),i("el-form-item",[i("el-button",{directives:[{name:"fast-click",rawName:"v-fast-click"}],attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v("搜索")]),t._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],attrs:{icon:"el-icon-refresh"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),t._v(" "),i("el-row",{staticClass:"mb8",attrs:{gutter:10}},[i("el-col",{attrs:{span:1.5}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v("新增")])],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.id)+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Author",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.price))])]}}])}),t._v(" "),i("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",[t._v(t._s(e.row.status))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"created_at",label:"Display_time",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-time"}),t._v(" "),i("span",[t._v(t._s(e.row.display_time))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"action",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.handleGoDetail(e.row.id)}}},[t._v("详情")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.handleEdit(e.row.id)}}},[t._v("编辑")])]}}])})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1)},l=[],a=i("c40e"),r={name:"GoodsList",data:function(){return{list:[],listLoading:!0,total:0,listQuery:{page:1,limit:20,title:""}}},created:function(){this.getList()},activated:function(){this.$route.query.flush&&this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(a["c"])(this.listQuery).then((function(e){t.list=e.data.items,t.total=e.data.total})).finally((function(){t.listLoading=!1}))},handleSearch:function(){this.listQuery.page=1,this.getList()},resetQuery:function(){this.$refs["listQueryRef"].resetFields(),this.handleSearch()},handleAdd:function(){console.log("add"),this.$router.push({name:"AddGoods"})},handleEdit:function(t){this.$router.push({name:"EditGoods",query:{id:t}})}}},o=r,s=i("2877"),u=Object(s["a"])(o,n,l,!1,null,null,null);e["default"]=u.exports},c40e:function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return a})),i.d(e,"b",(function(){return r})),i.d(e,"e",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"f",(function(){return u}));var n=i("b775");function l(t){return Object(n["a"])({url:"/goods/list",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/goods/list/".concat(t),method:"get"})}function r(){return Object(n["a"])({url:"/goods/brand/options",method:"get"})}function o(t){return Object(n["a"])({url:"/goods/product/options",method:"get",params:{id:t}})}function s(t){return Object(n["a"])({url:"/goods/list",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/goods/list",method:"put",data:t})}}}]);